
# BEAUTY ROAD スケジュール調整アプリ

## 1. 概要

「BEAUTY ROAD」番組専用の日程調整アプリケーションです。出演者やスタッフなどの関係者が、自身の参加可能な日時を簡単に入力・共有し、管理者が全体のスケジュールを効率的に把握・調整することを目的としています。

## 2. 主な機能

### 2.1. ユーザー（回答者）向け機能

*   **個別調整ページへのアクセス**: 管理者から共有されたユニークなURLを通じて、自身が回答すべき日程調整ページにアクセスします。
*   **名前の入力**: 回答者を識別するため、最初に名前を入力します。
*   **日時選択**:
    *   管理者が事前に設定した日程範囲が表示されます。
    *   各日に対して、午前（例: 9時〜14時）と午後（例: 14時〜20時）の2つの時間帯ブロックに分かれています。
    *   各時間帯ブロックに対し、「⚪︎（参加可能）」「△（要調整）」「×（参加不可）」のいずれかを選択して回答します。
*   **「△（要調整）」の場合の補足理由**:
    *   「△」を選択した場合、補足情報をチェックボックス形式で複数選択できます。
    *   選択肢: 「一部の時間帯 OK」「調整が必要」「その他」
*   **回答の送信**: 全ての日時について入力が完了したら、「送信」ボタンで回答を登録します。
*   **トップページへの遷移**: 送信完了後、調整用個別トップページ（回答済みユーザー一覧が表示されるページ）に戻ります。
*   **回答の編集**: 調整用個別トップページから、自身の過去の回答を選択し、内容を修正・再送信することが可能です。（他のユーザーの回答も編集可能ですが、内部利用を前提とした性善説に基づいています）

### 2.2. 管理者向け機能

*   **調整イベントの作成**:
    *   管理用ページから、新しい日程調整イベント（調整用個別トップページ）を生成します。
    *   イベント名、調整対象の開始日・終了日を設定します。
*   **管理者ダッシュボード**:
    *   過去に作成した日程調整イベントの一覧をダッシュボードで確認できます。
    *   各イベントに対して以下の操作が可能です。
        *   **共有URL発行**: ユーザーに配布するための調整用個別トップページのURLをコピーできます。
        *   **調整ページを開く**: 該当イベントのユーザー向け調整ページを直接開けます。
        *   **詳細確認**: イベントごとの詳細な回答状況ページへ遷移します。
*   **イベント詳細確認ページ**:
    *   特定のイベントの現在の入力状況を比較・確認できます。
    *   各日程・各時間帯ごとの「⚪︎」「△」「×」の集計数がリアルタイムで表示され、参加可能な人数が多い順などでソート表示されます。
    *   **タイムライン生成**: 日付を指定すると、その日の午前・午後の時間帯ごとに、どのユーザーが参加可能か（⚪︎または△か）を一覧できるタイムライン表を生成します。

## 3. 技術スタック (想定)

*   フロントエンド: React, TypeScript, Tailwind CSS
*   ルーティング: React Router
*   状態管理: React Hooks (useState, useEffect, useCallback, useMemo)
*   データベース (モック): `localStorage` ( `services/scheduleService.ts` )
*   デプロイ (想定): Vercel

## 4. セキュリティについて

本アプリケーションは、番組関係者など限定的な範囲での利用を想定しており、大規模な外部公開は予定していません。そのため、現時点では複雑な認証機能（ログインなど）は実装せず、URLを知っていれば誰でもアクセス・編集できる仕様となっています。運用上の注意と信頼関係に基づいて利用することを前提としています。

## 5. プロジェクト構造 (主要ディレクトリ・ファイル)

```
/
├── public/
│   └── (現在のプロジェクトでは未使用、ビルドツール導入時に使用)
├── src/
│   ├── components/       # 再利用可能なUIコンポーネント
│   ├── pages/            # 各ページのコンポーネント
│   ├── services/         # API連携など(scheduleService.ts - 現在はlocalStorageモック)
│   ├── types/            # TypeScriptの型定義(types.ts)
│   ├── utils/            # ユーティリティ関数(dateUtils.ts)
│   ├── App.tsx           # メインアプリケーションコンポーネント・ルーティング設定
│   └── index.tsx         # アプリケーションのエントリポイント
├── docs/                 # ドキュメント
│   ├── SUPABASE_SETUP.md # Supabaseセットアップ手順
│   └── VERCEL_DEPLOYMENT.md # Vercelデプロイ手順
├── .gitignore
├── index.html            # HTMLエントリーファイル (CDN経由でライブラリ読み込み)
├── metadata.json         # アプリケーションメタデータ
├── package.json          # (依存関係管理用だが、現構成ではscriptのみ)
├── README.md             # このファイル
└── tsconfig.json         # TypeScript設定
```

## 6. ローカル環境でのセットアップと実行

現在のプロジェクトは、`index.html` がCDN経由でReactやTailwind CSSを直接読み込むシンプルな構成です。

1.  **リポジトリのクローン**:
    ```bash
    git clone <リポジトリURL>
    cd <リポジトリ名>
    ```

2.  **依存関係のインストール**:
    このプロジェクトはビルドステップを必要としないため、`npm install` や `yarn install` は必須ではありませんが、リンターやフォーマッター、TypeScriptの型チェックなどをローカルで行う場合は、`typescript` や関連ツールを開発依存としてインストールすることが推奨されます。
    ```bash
    # 例: TypeScriptの型チェックのため
    # npm install typescript --save-dev 
    # (または pnpm add -D typescript, yarn add -D typescript)
    ```

3.  **アプリケーションの起動**:
    *   ローカルのHTTPサーバーを使用して `index.html` を配信します。例えば `live-server` (npmでグローバルインストール可能) やVSCodeの拡張機能「Live Server」などを使用します。
        ```bash
        # live-server を使用する場合 (事前に npm install -g live-server)
        live-server
        ```
    *   または、プロジェクトルートで `index.html` ファイルを直接ブラウザで開きます (一部機能、特にルーティングが期待通りに動作しない可能性があります。HTTPサーバー経由での閲覧を推奨します)。

4.  **Supabase / Vercel への移行**:
    `docs/SUPABASE_SETUP.md` および `docs/VERCEL_DEPLOYMENT.md` を参照して、データベースバックエンドのセットアップとクラウドへのデプロイを行ってください。その際には、プロジェクトにViteやCreate React Appのようなビルドツールを導入し、環境変数を適切に管理する構成に変更することを推奨します。
    現状の `scheduleService.ts` は `localStorage` を使用したモック実装です。Supabaseに移行する際は、このサービス内の関数をSupabaseクライアントライブラリを使用した非同期処理に置き換える必要があります。

